<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style/cadastro_animal.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Cadastro de Animal</title>
</head>
<body>
    <div class="container-animal">
        <div class="cadastro-form">
            <h2>Cadastre um novo animal</h2>
            <img src="../img/close.png" onclick="chat()" />
            <form method="post" id="register">
                <label for="animal_nome">Nome do Animal:</label>
                <input type="text" name="animal_nome" required><br>

                <label for="raca">Raça:</label>
                <select name="raca">
                    <option value="definida">Raça Definida</option>
                    <option value="srd">Sem Raça Definida</option>
                </select><br>

                <label for="cor">Cor:</label>
                <input type="text" name="cor" required><br>

                <label for="pelagem">Pelagem:</label>
                <select name="pelagem">
                    <option value="curto">Curto</option>
                    <option value="médio">Médio</option>
                    <option value="longo">Longo</option>
                </select><br>

                <label for="sexo">Sexo:</label>
                <select name="sexo">
                    <option value="macho">Macho</option>
                    <option value="fêmea">Fêmea</option>
                </select><br>

                <label for="porte">Porte:</label>
                <select name="porte">
                    <option value="pequeno">Pequeno</option>
                    <option value="médio">Médio</option>
                    <option value="grande">Grande</option>
                </select><br>

                <label for="especie">Espécie:</label>
                <select name="especie">
                    <option value="cachorro">Cachorro</option>
                    <option value="gato">Gato</option>
                </select><br>

                <label for="descricao">Descrição do Animal:</label>
                <textarea name="descricao" rows="4" required></textarea><br>

                <button>Cadastrar</button>
            </form>
        </div>
    </div>

    <script>

        $('#register').on('submit', function (e) {
            e.preventDefault();
            $.ajax({
                type: 'post',
                url: './process/salvar_animal.php',
                data: $('#register').serialize(),
                success: function (data) {
                    Swal.fire({
                        title: 'Cadastro confirmado',
                        text: 'O animal foi cadastrado com sucesso', 
                        icon: 'success',
                        confirmButtonText: 'OK'
                    })
                },
                error: function (error) {
                    console.log(error);
                    Swal.fire({
                        title: 'algo não esta correto!',
                        text: error.statusText, 
                        icon: 'error',
                        confirmButtonText: 'Tentar novamente'
                    })
                }
            });
        });

    </script>

</body>
</html>
